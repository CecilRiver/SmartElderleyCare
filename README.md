# SmartElderleyCare

### 智慧养老系统算法部分 

---

**项目简介**

智慧养老系统旨在通过视频监控和人工智能技术实时监控老人的安全和互动情况。本系统集成了多种算法模块，包括情感分析、摔倒检测、义工和老人互动检测、陌生人检测与追踪、禁止区域闯入检测等。这些模块通过视频流输入进行处理，并将检测结果保存到云存储和数据库中，提供实时监控和报警功能。

---

**算法模块**

1. **情感分析**
    - **功能**：识别视频中老人的微笑。
    - **实现**：使用dlib库进行人脸检测，预训练的CNN模型进行情感识别。
    - **数据处理**：当检测到笑容时，截取视频帧并保存到云存储服务，同时将数据（时间戳、图片路径、情感类型等）插入数据库。

2. **摔倒检测**
    - **功能**：识别老人的摔倒事件。
    - **实现**：使用yolov5进行目标检测，结合slowfast算法分析动作，提高摔倒事件的检测权重。
    - **数据处理**：检测到摔倒事件时，保存截图到云存储服务，并将相关数据插入数据库。

3. **义工和老人互动**
    - **功能**：检测义工与老人之间的互动，计算互动距离。
    - **实现**：使用dlib库进行人脸检测与识别，计算义工和老人之间的距离。
    - **数据处理**：检测到互动时，保存截图到云存储服务，并将数据实时插入数据库。

4. **检测并追踪陌生人**
    - **功能**：检测和追踪视频中的陌生人。
    - **实现**：使用dlib进行人脸识别，结合yolov5和deepsort进行目标检测和跟踪。
    - **数据处理**：检测到陌生人时，保存截图到云存储服务，并将数据插入数据库。

5. **有人闯入禁止区域**
    - **功能**：检测是否有人闯入禁止区域。
    - **实现**：使用yolov5进行目标检测，计算目标与禁止区域之间的距离。
    - **数据处理**：检测到闯入事件时，保存截图到云存储服务，并将数据实时插入数据库。

---

**接口封装**

系统提供了统一的API接口，用于接收视频流和推送处理后的视频流。通过这些接口，系统可以方便地接收输入视频流，并将处理后的结果推送到前端显示，实现实时监控和报警功能。

---

**使用说明**

1. **视频流输入**：通过系统提供的API接口接收实时视频流。
2. **数据处理**：各算法模块处理视频流，进行相应的检测和分析。
3. **结果存储**：检测到的事件会保存截图到云存储服务，并将相关数据插入数据库。
4. **结果推送**：处理后的结果通过API接口推送到前端，实现实时显示和报警。

---

**开发与维护**

- **代码库**：所有算法模块和接口封装的代码均存放在项目的代码库中。
- **依赖库**：主要依赖库包括dlib、yolov5、slowfast和deepsort等。
- **模型训练**：情感识别和目标检测模型均采用预训练模型，并在项目中进行了优化和调整。
- **系统优化**：通过调整模型参数和优化算法，提升系统的检测准确性和实时性。

---

